# ─── Checkbot RAG ─────────────────────────────────────────────────────────────
# Fact-check RAG service with hybrid vector + full-text search.
# Admin UI: http://checkbot-rag.localhost
# MCP endpoint: http://checkbot-rag:3020/mcp (internal, for LibreChat agents)

CHECKBOT_RAG_PORT=3020

# PostgreSQL (own instance, isolated from LibreChat vectordb)
CHECKBOT_RAG_POSTGRES_DB=checkbot_rag
CHECKBOT_RAG_POSTGRES_USER=checkbot_rag
# Auto-generated by setup-env.ts if empty
CHECKBOT_RAG_POSTGRES_PASSWORD=

# Embedding — Scaleway Qwen3-Embedding-8B (MTEB multilingual #1, €0.10/M tokens)
# API is OpenAI-compatible; also supports: openrouter, openai
CHECKBOT_RAG_EMBEDDING_PROVIDER=scaleway
CHECKBOT_RAG_EMBEDDING_MODEL=qwen3-embedding-8b
CHECKBOT_RAG_EMBEDDING_API_KEY=
CHECKBOT_RAG_EMBEDDING_BASE_URL=
# Matryoshka dimensions: 4096 (full), 2048, 1024, 512
# Reduce to 1024 when approaching 500k+ claims to save memory
CHECKBOT_RAG_EMBEDDING_DIMENSIONS=4096
CHECKBOT_RAG_EMBEDDING_BATCH_SIZE=32

# Hybrid Search tuning (RRF — Reciprocal Rank Fusion)
CHECKBOT_RAG_SEARCH_WEIGHT_VEC=1.0
CHECKBOT_RAG_SEARCH_WEIGHT_FTS=1.0
CHECKBOT_RAG_RRF_K=60
CHECKBOT_RAG_SEARCH_OVERFETCH=3

# Chunking
CHECKBOT_RAG_MAX_CHUNK_CHARS=6000